/* ── Sodexo Live! Brand Tokens ────────────────────────────── */
:root {
  --sdx-red: #EE0000;
  --sdx-red-dark: #C50000;
  --sdx-red-light: #FFF0F0;
  --sdx-navy: #2A295C;
  --sdx-blue: #283897;
  --sdx-white: #FFFFFF;
  --sdx-gray-50: #F7F8FA;
  --sdx-gray-100: #EEF0F4;
  --sdx-gray-200: #DDE1E8;
  --sdx-gray-300: #B8BFCC;
  --sdx-gray-400: #8D95A5;
  --sdx-gray-500: #6B7280;
  --sdx-gray-600: #4B5563;
  --sdx-gray-700: #374151;
  --sdx-gray-800: #1F2937;
  --sdx-green: #15803D;
  --sdx-green-light: #F0FDF4;
  --sdx-amber: #D97706;
  --sdx-amber-light: #FFFBEB;

  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --shadow-sm: 0 1px 2px rgba(42,41,92,.06);
  --shadow-md: 0 4px 12px rgba(42,41,92,.08);
  --shadow-lg: 0 8px 30px rgba(42,41,92,.12);
  --transition: 180ms ease;
}

/* ── Reset & Base ────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html {
  font-size: 15px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: #f0f2f7;
  color: var(--sdx-gray-800);
  line-height: 1.6;
}

/* ── App Shell ───────────────────────────────────────────── */
.appShell {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* ── Top Bar ─────────────────────────────────────────────── */
.topBar {
  background: linear-gradient(135deg, var(--sdx-navy) 0%, #1e1d4a 50%, var(--sdx-blue) 100%);
  color: var(--sdx-white);
  padding: 0 28px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 3px 12px rgba(42,41,92,.25);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
}
.topBarSpacer {
  height: 64px;
  flex-shrink: 0;
}

.brandLeft {
  display: flex;
  align-items: center;
  gap: 14px;
}
.brandClickable {
  cursor: pointer;
  border-radius: 8px;
  padding: 6px 10px;
  margin: -6px -10px;
  transition: background 0.15s ease;
}
.brandClickable:hover {
  background: rgba(255,255,255,.1);
}
.brandClickable:active {
  background: rgba(255,255,255,.15);
}

.logoMark {
  width: 36px;
  height: 36px;
  background: var(--sdx-red);
  border-radius: 8px;
  position: relative;
  flex-shrink: 0;
}
.logoMark::after {
  content: 'S';
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 18px;
  color: var(--sdx-white);
  letter-spacing: -0.5px;
}

.brandTitle {
  font-size: 1.1rem;
  font-weight: 700;
  letter-spacing: -0.3px;
}
.brandSub {
  font-size: 0.75rem;
  opacity: 0.7;
  margin-top: 1px;
}

.topActions {
  display: flex;
  align-items: center;
  gap: 10px;
}
/* ── Hamburger Menu (all screen sizes) ─────────────────── */
.topActionsHamburger {
  display: flex;
  align-items: center;
  gap: 10px;
}
.btnGenHeader {
  padding: 9px 20px;
  font-size: 0.85rem;
  font-weight: 700;
  white-space: nowrap;
}
.hamburgerBtn {
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.2);
  cursor: pointer;
  padding: 8px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  transition: background 0.15s;
}
.hamburgerBtn:hover {
  background: rgba(255,255,255,0.2);
}
.hamburgerIcon {
  display: flex;
  flex-direction: column;
  gap: 4px;
  width: 22px;
  transition: all 0.2s;
}
.hamburgerIcon span {
  display: block;
  height: 2.5px;
  background: white;
  border-radius: 2px;
  transition: all 0.25s;
}
.hamburgerOpen span:nth-child(1) { transform: translateY(6.5px) rotate(45deg); }
.hamburgerOpen span:nth-child(2) { opacity: 0; }
.hamburgerOpen span:nth-child(3) { transform: translateY(-6.5px) rotate(-45deg); }
.dropdownMenu {
  position: absolute;
  top: 100%;
  right: 0;
  min-width: 220px;
  background: linear-gradient(135deg, #2A295C 0%, #1a1940 100%);
  padding: 8px 12px 12px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.35);
  border-radius: 0 0 12px 12px;
  z-index: 999;
  animation: menuSlideDown 0.2s ease-out;
}
@keyframes menuSlideDown {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}
.dropdownMenuUser {
  color: rgba(255,255,255,0.7);
  font-size: 0.78rem;
  font-weight: 600;
  padding: 8px 12px 6px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  margin-bottom: 4px;
}
.dropdownMenuItem {
  background: none;
  border: none;
  color: white;
  font-size: 0.9rem;
  font-weight: 600;
  padding: 12px 14px;
  text-align: left;
  cursor: pointer;
  border-radius: 8px;
  transition: background 0.15s;
  font-family: inherit;
}
.dropdownMenuItem:hover { background: rgba(255,255,255,0.12); }
.dropdownMenuDanger { color: #fca5a5; }
.dropdownMenuDanger:hover { background: rgba(239,68,68,0.2); }

/* ── Buttons ─────────────────────────────────────────────── */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  font-size: 0.87rem;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition);
  white-space: nowrap;
  line-height: 1.3;
  font-family: inherit;
}
.btn:disabled {
  opacity: 0.45;
  cursor: not-allowed;
}

.btnPrimary {
  background: var(--sdx-red);
  color: var(--sdx-white);
}
.btnPrimary:hover:not(:disabled) {
  background: var(--sdx-red-dark);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(238,0,0,.3);
}

.btnGhost {
  background: rgba(255,255,255,.12);
  color: var(--sdx-white);
  border: 1px solid rgba(255,255,255,.2);
}
.btnGhost:hover:not(:disabled) {
  background: rgba(255,255,255,.2);
}

.btnSmall {
  padding: 7px 14px;
  font-size: 0.82rem;
}

/* Card-level ghost buttons (dark text) */
.card .btnGhost,
.guide .btnGhost {
  background: transparent;
  color: var(--sdx-gray-600);
  border: 1px solid var(--sdx-gray-200);
}
.card .btnGhost:hover:not(:disabled),
.guide .btnGhost:hover:not(:disabled) {
  background: var(--sdx-gray-100);
  color: var(--sdx-gray-800);
}

/* ── Grid / Layout ───────────────────────────────────────── */
.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 28px;
  padding: 28px 32px;
  flex: 1;
  align-items: start;
  max-width: 1440px;
  margin: 0 auto;
  width: 100%;
}
@media (max-width: 1100px) {
  .grid { grid-template-columns: 1fr; }
}

/* ── Cards ────────────────────────────────────────────────── */
.card {
  background: var(--sdx-white);
  border-radius: var(--radius-lg);
  box-shadow: 0 2px 8px rgba(42,41,92,.06), 0 0 0 1px rgba(42,41,92,.04);
  overflow: hidden;
  border: none;
}

.cardHeader {
  padding: 18px 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid var(--sdx-gray-100);
  background: linear-gradient(180deg, #fafbfd 0%, var(--sdx-gray-50) 100%);
}

.cardTitle {
  font-size: 1rem;
  font-weight: 700;
  color: var(--sdx-navy);
}
.cardSub {
  font-size: 0.78rem;
  color: var(--sdx-gray-400);
  margin-top: 2px;
}

.cardBody {
  padding: 24px;
}

/* ── Segmented Tabs ──────────────────────────────────────── */
.noteTypeRow {
  display: flex;
  gap: 0;
  background: var(--sdx-gray-100);
  border-radius: var(--radius-sm);
  padding: 3px;
}

.seg {
  padding: 6px 16px;
  border: none;
  background: transparent;
  font-size: 0.82rem;
  font-weight: 600;
  color: var(--sdx-gray-500);
  cursor: pointer;
  border-radius: 4px;
  transition: all var(--transition);
}
.seg:hover { color: var(--sdx-gray-700); }
.segActive {
  background: var(--sdx-white);
  color: var(--sdx-navy);
  box-shadow: var(--shadow-sm);
}

/* ── Fields ──────────────────────────────────────────────── */
.fieldGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 20px;
}
@media (max-width: 600px) {
  .fieldGrid { grid-template-columns: 1fr; }
}

.field {
  display: flex;
  flex-direction: column;
  gap: 5px;
  margin-top: 0;
}

.fieldLabel {
  font-size: 0.78rem;
  font-weight: 600;
  color: var(--sdx-gray-600);
  text-transform: uppercase;
  letter-spacing: 0.4px;
}

.fieldLabelRow {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  margin-bottom: 5px;
}

.input, .select, .textarea {
  width: 100%;
  padding: 10px 14px;
  border: 1.5px solid var(--sdx-gray-200);
  border-radius: 8px;
  font-size: 0.88rem;
  font-family: inherit;
  color: var(--sdx-gray-800);
  background: var(--sdx-white);
  transition: border-color var(--transition), box-shadow var(--transition);
  outline: none;
}
.input:focus, .select:focus, .textarea:focus {
  border-color: var(--sdx-blue);
  box-shadow: 0 0 0 3px rgba(40,56,151,.12);
}
.inputSmall {
  padding: 6px 10px;
  font-size: 0.82rem;
}
.selectSmall {
  padding: 5px 8px;
  font-size: 0.82rem;
  min-width: 130px;
}

.textarea {
  resize: vertical;
  min-height: 100px;
  line-height: 1.6;
}

.hint {
  font-size: 0.73rem;
  color: var(--sdx-gray-400);
}

/* ── Inspector Guide ─────────────────────────────────────── */
.guide {
  background: var(--sdx-gray-50);
  border: 1.5px solid var(--sdx-gray-200);
  border-radius: var(--radius-md);
  padding: 18px;
  margin: 18px 0;
}

.guideHeader {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 16px;
  gap: 12px;
  flex-wrap: wrap;
}

.guideTitle {
  font-size: 0.95rem;
  font-weight: 700;
  color: var(--sdx-navy);
}
.guideSub {
  font-size: 0.78rem;
  color: var(--sdx-gray-400);
  margin-top: 2px;
}

.pillRow {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.pill {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  font-size: 0.72rem;
  font-weight: 700;
  background: var(--sdx-red-light);
  color: var(--sdx-red);
  border-radius: 100px;
  border: 1px solid rgba(238,0,0,.15);
  white-space: nowrap;
}

/* Guide Sections */
.guideSection {
  margin-bottom: 16px;
}
.guideSectionTitle {
  font-size: 0.82rem;
  font-weight: 700;
  color: var(--sdx-navy);
  padding: 8px 0;
  border-bottom: 2px solid var(--sdx-red);
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.guideItems {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.guideItem {
  background: var(--sdx-white);
  border: 1px solid var(--sdx-gray-200);
  border-radius: var(--radius-sm);
  padding: 12px;
  transition: border-color var(--transition);
}
.guideItem:hover {
  border-color: var(--sdx-gray-300);
}

.guideItemHead {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
  gap: 10px;
}

.guideLabel {
  font-size: 0.87rem;
  font-weight: 600;
  color: var(--sdx-gray-700);
}

.guideNote {
  font-size: 0.72rem;
  color: var(--sdx-gray-400);
  margin-top: 10px;
  font-style: italic;
}

/* ── Temperatures ────────────────────────────────────────── */
.tempsRow {
  background: var(--sdx-white);
  border: 1px solid var(--sdx-gray-200);
  border-radius: var(--radius-sm);
  padding: 14px;
  margin-bottom: 16px;
}
.tempsTitle {
  font-size: 0.82rem;
  font-weight: 700;
  color: var(--sdx-navy);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--sdx-red);
  margin-bottom: 12px;
}
.tempsGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

/* ── Photos ──────────────────────────────────────────────── */
.photoRow {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 6px;
}
.fileInput {
  display: none;
}

.photoStrip {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 8px;
}
.photoThumb {
  position: relative;
  width: 56px;
  height: 56px;
  border-radius: var(--radius-sm);
  overflow: hidden;
  border: 2px solid var(--sdx-gray-200);
}
.photoThumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.thumbX {
  position: absolute;
  top: 2px;
  right: 2px;
  width: 18px;
  height: 18px;
  border: none;
  background: rgba(238,0,0,.85);
  color: white;
  border-radius: 50%;
  font-size: 12px;
  line-height: 1;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ── Output Panel ────────────────────────────────────────── */
.outputActions {
  display: flex;
  gap: 8px;
}

.emptyState {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;
}
.emptyTitle {
  font-size: 1rem;
  font-weight: 600;
  color: var(--sdx-gray-400);
  margin-bottom: 6px;
}
.emptySub {
  font-size: 0.82rem;
  color: var(--sdx-gray-300);
  max-width: 280px;
}

.outputPre {
  white-space: pre-wrap;
  word-break: break-word;
  font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  font-size: 0.8rem;
  line-height: 1.7;
  color: var(--sdx-gray-700);
  background: var(--sdx-gray-50);
  border: 1px solid var(--sdx-gray-200);
  border-radius: var(--radius-sm);
  padding: 18px;
  max-height: 70vh;
  overflow-y: auto;
}

/* ── Error Box ───────────────────────────────────────────── */
.errorBox {
  background: var(--sdx-red-light);
  border: 1px solid rgba(238,0,0,.2);
  border-left: 4px solid var(--sdx-red);
  color: var(--sdx-red-dark);
  padding: 12px 16px;
  border-radius: var(--radius-sm);
  font-size: 0.85rem;
  font-weight: 500;
  margin-top: 14px;
}

/* ── Warning Box ─────────────────────────────────────────── */
.warningBox {
  background: var(--sdx-amber-light);
  border: 1px solid rgba(217,119,6,.2);
  border-left: 4px solid var(--sdx-amber);
  color: #92400E;
  padding: 12px 16px;
  border-radius: var(--radius-sm);
  font-size: 0.85rem;
  font-weight: 500;
  margin-top: 14px;
}
.warningBox strong {
  display: block;
  margin-bottom: 6px;
  font-weight: 700;
  color: #78350F;
}
.warningBox ul {
  margin: 0;
  padding-left: 18px;
}
.warningBox li {
  margin-bottom: 2px;
}

/* ── AI Box ──────────────────────────────────────────────── */
.aiBox {
  background: linear-gradient(135deg, #EDE9FE 0%, #F0FDFA 100%);
  border: 1px solid rgba(123,63,160,.2);
  border-left: 4px solid #7B3FA0;
  padding: 14px 18px;
  border-radius: var(--radius-sm);
  font-size: 0.84rem;
  margin-bottom: 18px;
}
.aiBoxTitle {
  font-weight: 700;
  color: #7B3FA0;
  margin-bottom: 8px;
  font-size: 0.88rem;
  display: flex;
  align-items: center;
  gap: 6px;
}
.aiBoxTitle::before {
  content: '\2728';
}
.aiBox ul {
  margin: 0;
  padding-left: 18px;
  color: var(--sdx-gray-700);
}
.aiBox li {
  margin-bottom: 4px;
  line-height: 1.5;
}

/* ── AI Button ───────────────────────────────────────────── */
.btnAi {
  background: linear-gradient(135deg, #7B3FA0 0%, #D946A8 100%);
  color: var(--sdx-white);
  border: none;
}
.btnAi:hover:not(:disabled) {
  background: linear-gradient(135deg, #6B2F90 0%, #C93698 100%);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(123,63,160,.3);
}

/* ── Brand Logo ──────────────────────────────────────────── */
.brandLogo {
  height: 40px;
  width: auto;
  flex-shrink: 0;
}

/* ── Footer ──────────────────────────────────────────────── */
.footer {
  background: linear-gradient(135deg, var(--sdx-navy) 0%, #1e1d4a 50%, var(--sdx-blue) 100%);
  color: rgba(255,255,255,.65);
  text-align: center;
  padding: 16px 28px;
  padding-bottom: 64px;
  font-size: 0.78rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  letter-spacing: 0.1px;
}
.footerLogo {
  height: 24px;
  width: auto;
  opacity: 0.7;
}

/* ── Download Bar ────────────────────────────────────────── */
.downloadBar {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 16px;
  padding: 14px 16px;
  background: var(--sdx-gray-50);
  border: 1px solid var(--sdx-gray-200);
  border-radius: var(--radius-sm);
}
.downloadLabel {
  font-size: 0.82rem;
  font-weight: 600;
  color: var(--sdx-gray-500);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  margin-right: 4px;
}
.btnDownload {
  background: var(--sdx-white);
  color: var(--sdx-navy);
  border: 1.5px solid var(--sdx-gray-200);
  padding: 6px 14px;
  font-size: 0.8rem;
}
.btnDownload:hover:not(:disabled) {
  background: var(--sdx-navy);
  color: var(--sdx-white);
  border-color: var(--sdx-navy);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

/* ── Save Button ─────────────────────────────────────────── */
.btnSave {
  background: var(--sdx-green);
  color: var(--sdx-white);
  border: none;
}
.btnSave:hover:not(:disabled) {
  background: #0E6B31;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(21,128,61,.3);
}
.btnSaved {
  background: var(--sdx-green-light);
  color: var(--sdx-green);
  border: 1.5px solid rgba(21,128,61,.3);
}

/* ── History Page ────────────────────────────────────────── */
.historyList {
  display: flex;
  flex-direction: column;
}
.historyCard {
  transition: box-shadow var(--transition);
}
.historyCard:hover {
  box-shadow: var(--shadow-lg);
}
.historyStatus {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 4px 12px;
  font-size: 0.72rem;
  font-weight: 700;
  color: white;
  border-radius: 100px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  white-space: nowrap;
}

/* ── Inspection Type Badges (History page) ───────────────── */
.typeBadge {
  display: inline-block;
  padding: 2px 10px;
  border-radius: 100px;
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.3px;
  white-space: nowrap;
  vertical-align: middle;
}
.typeBadgeEvent {
  background: #EFF6FF;
  color: #1D4ED8;
  border: 1px solid #BFDBFE;
}
.typeBadgePost {
  background: #F5F3FF;
  color: #7C3AED;
  border: 1px solid #DDD6FE;
}
.typeBadgeRegular {
  background: #F0FDF4;
  color: #15803D;
  border: 1px solid #BBF7D0;
}

.historyMeta {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 8px;
  padding: 12px 16px;
  background: var(--sdx-gray-50);
  border-radius: var(--radius-sm);
  font-size: 0.84rem;
  color: var(--sdx-gray-600);
}
.historyMeta strong {
  color: var(--sdx-gray-800);
}
.historyTable {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.84rem;
  margin-top: 8px;
}
.historyTable th {
  background: var(--sdx-navy);
  color: white;
  padding: 8px 14px;
  text-align: left;
  font-weight: 600;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}
.historyTable td {
  padding: 8px 14px;
  border-bottom: 1px solid var(--sdx-gray-100);
  color: var(--sdx-gray-700);
}
.historyTable tr:hover td {
  background: var(--sdx-gray-50);
}
.priorityBadge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 100px;
  font-size: 0.72rem;
  font-weight: 700;
  text-transform: uppercase;
}
.priorityHigh {
  background: var(--sdx-red-light);
  color: var(--sdx-red);
}
.priorityMed {
  background: var(--sdx-amber-light);
  color: var(--sdx-amber);
}

/* ── Empty State ─────────────────────────────────────────── */
.emptyIcon {
  font-size: 2.5rem;
  margin-bottom: 12px;
  opacity: 0.3;
}

/* ── Professional Report Output ─────────────────────────── */
.rpt {
  border: 1px solid var(--sdx-gray-200);
  border-radius: var(--radius-md);
  overflow: hidden;
  background: white;
  font-size: 0.86rem;
}

/* Report Header */
.rptHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 24px;
  border-bottom: 3px solid var(--sdx-navy);
}
.rptLogo { height: 32px; width: auto; }
.rptHeaderRight { text-align: right; }
.rptDocType {
  font-size: 0.72rem;
  font-weight: 700;
  color: var(--sdx-navy);
  text-transform: uppercase;
  letter-spacing: 1px;
}
.rptDocId {
  font-size: 0.68rem;
  color: var(--sdx-gray-400);
  margin-top: 2px;
}

/* Title Bar */
.rptTitleBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  background: var(--sdx-gray-50);
  border-bottom: 1px solid var(--sdx-gray-200);
  gap: 16px;
}
.rptTitle {
  font-size: 1.3rem;
  font-weight: 800;
  color: var(--sdx-navy);
  letter-spacing: -0.3px;
}
.rptDate {
  font-size: 0.84rem;
  color: var(--sdx-gray-400);
  margin-top: 2px;
}
.rptStatus {
  padding: 8px 20px;
  border-radius: 6px;
  font-size: 0.78rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1.2px;
  white-space: nowrap;
  flex-shrink: 0;
}
.rptStatusPass {
  background: #ECFDF5;
  color: #15803D;
  border: 2px solid #86EFAC;
}
.rptStatusFail {
  background: #FEF2F2;
  color: #DC2626;
  border: 2px solid #FECACA;
}

/* Info Grid */
.rptInfoGrid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0;
  border-bottom: 1px solid var(--sdx-gray-200);
}
.rptInfoItem {
  padding: 12px 24px;
  border-right: 1px solid var(--sdx-gray-100);
  border-bottom: 1px solid var(--sdx-gray-100);
}
.rptInfoItem:nth-child(3n) { border-right: none; }
.rptInfoLabel {
  font-size: 0.68rem;
  font-weight: 700;
  color: var(--sdx-gray-400);
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-bottom: 4px;
}
.rptInfoValue {
  font-size: 0.88rem;
  color: var(--sdx-navy);
  font-weight: 600;
}
.rptCheck { color: #15803D; }
.rptWarn { color: #DC2626; font-size: 0.78rem; font-weight: 600; }

/* Content Blocks */
.rptBlock {
  padding: 20px 24px;
  border-bottom: 1px solid var(--sdx-gray-100);
}
.rptBlock:last-of-type { border-bottom: none; }
.rptBlockTitle {
  font-size: 0.78rem;
  font-weight: 800;
  color: var(--sdx-navy);
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-bottom: 14px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--sdx-navy);
}
.rptBlockAlert {
  background: #FEF2F2;
}
.rptBlockTitleAlert {
  color: #DC2626;
  border-bottom-color: #DC2626;
}
.rptParagraph {
  font-size: 0.88rem;
  color: var(--sdx-gray-600);
  line-height: 1.7;
  margin: 0;
}

/* Scorecard Table */
.rptTable {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.82rem;
}
.rptTable th {
  background: var(--sdx-navy);
  color: white;
  padding: 10px 14px;
  text-align: left;
  font-size: 0.72rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.rptTable td {
  padding: 9px 14px;
  border-bottom: 1px solid var(--sdx-gray-100);
  color: var(--sdx-gray-700);
  vertical-align: middle;
}
.rptTable tbody tr:hover { background: var(--sdx-gray-50); }
.rptSectionCell {
  font-weight: 700;
  color: var(--sdx-navy);
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  background: var(--sdx-gray-50);
  border-right: 2px solid var(--sdx-navy);
  vertical-align: top;
}
.rptNoteCell {
  color: var(--sdx-gray-400);
  font-style: italic;
  font-size: 0.8rem;
}
.rptRowFail { background: rgba(220,38,38,.04); }
.rptRowWarn { background: rgba(217,119,6,.04); }

/* Status Pills */
.rptStatusPill {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  white-space: nowrap;
}
.rptPillPass { background: #ECFDF5; color: #15803D; }
.rptPillFail { background: #FEF2F2; color: #DC2626; }
.rptPillWarn { background: #FFFBEB; color: #D97706; }
.rptPillNa { background: var(--sdx-gray-100); color: var(--sdx-gray-400); }

/* Issue Rows */
.rptIssueRow {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 0;
  border-bottom: 1px solid rgba(220,38,38,.1);
}
.rptIssueRow:last-child { border-bottom: none; }
.rptIssueNum {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background: #DC2626;
  color: white;
  font-size: 0.72rem;
  font-weight: 800;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.rptIssueContent { flex: 1; }
.rptIssueName {
  font-weight: 700;
  color: var(--sdx-navy);
  font-size: 0.88rem;
}
.rptIssueSection {
  font-weight: 400;
  color: var(--sdx-gray-400);
  font-size: 0.78rem;
}
.rptIssueDetail {
  font-size: 0.82rem;
  color: var(--sdx-gray-500);
  margin-top: 2px;
}

/* Action Rows */
.rptActionRow {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid var(--sdx-gray-100);
}
.rptActionRow:last-child { border-bottom: none; }
.rptPriorityDot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin-top: 5px;
  flex-shrink: 0;
}
.rptDotHigh { background: #DC2626; }
.rptDotMed { background: #D97706; }
.rptActionContent {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}
.rptActionText {
  font-size: 0.86rem;
  color: var(--sdx-gray-700);
}
.rptPriorityLabel {
  font-size: 0.68rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  flex-shrink: 0;
}
.rptLabelHigh { color: #DC2626; }
.rptLabelMed { color: #D97706; }

/* Photo Index */
.rptPhotoList {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.rptPhotoItem {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.84rem;
  color: var(--sdx-gray-600);
}
.rptPhotoNum {
  font-weight: 700;
  color: var(--sdx-navy);
  font-size: 0.78rem;
  min-width: 65px;
}

/* Notes */
.rptNotesContent {
  font-size: 0.86rem;
  color: var(--sdx-gray-600);
  line-height: 1.7;
  background: var(--sdx-gray-50);
  padding: 16px;
  border-radius: var(--radius-sm);
  white-space: pre-wrap;
  border-left: 3px solid var(--sdx-navy);
}

/* Organized Notes (categorized bullet points) */
.rptNotesOrganized {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.rptNoteCategory {
  background: var(--sdx-gray-50);
  border-radius: var(--radius-sm);
  padding: 14px 16px;
  border-left: 3px solid var(--sdx-gray-300);
}
.rptNoteCatLabel {
  font-size: 0.72rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
  color: var(--sdx-gray-500);
}
.rptNoteCat--context { border-left-color: var(--sdx-blue); }
.rptNoteCat--context .rptNoteCatLabel,
.rptNoteCat--context { color: var(--sdx-blue); }
.rptNoteCategory.rptNoteCat--context { border-left-color: var(--sdx-blue); }

.rptNoteCat--finding { border-left-color: var(--sdx-amber); }
.rptNoteCat--finding .rptNoteCatLabel { color: var(--sdx-amber); }

.rptNoteCat--temp { border-left-color: #7c3aed; }
.rptNoteCat--temp .rptNoteCatLabel { color: #7c3aed; }

.rptNoteCat--question { border-left-color: #0891b2; }
.rptNoteCat--question .rptNoteCatLabel { color: #0891b2; }

.rptNoteCat--action { border-left-color: var(--sdx-red); }
.rptNoteCat--action .rptNoteCatLabel { color: var(--sdx-red); }

.rptNoteCat--owner { border-left-color: var(--sdx-green); }
.rptNoteCat--owner .rptNoteCatLabel { color: var(--sdx-green); }

.rptNoteCat--general { border-left-color: var(--sdx-gray-400); }
.rptNoteCat--general .rptNoteCatLabel { color: var(--sdx-gray-500); }

.rptNoteBullets {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.rptNoteBullets li {
  font-size: 0.84rem;
  color: var(--sdx-gray-700);
  line-height: 1.6;
  padding-left: 18px;
  position: relative;
}
.rptNoteBullets li::before {
  content: "";
  position: absolute;
  left: 0;
  top: 8px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--sdx-gray-300);
}
.rptNoteCat--action .rptNoteBullets li::before { background: var(--sdx-red); }
.rptNoteCat--finding .rptNoteBullets li::before { background: var(--sdx-amber); }
.rptNoteCat--temp .rptNoteBullets li::before { background: #7c3aed; }
.rptNoteCat--question .rptNoteBullets li::before { background: #0891b2; }
.rptNoteCat--context .rptNoteBullets li::before { background: var(--sdx-blue); }
.rptNoteCat--owner .rptNoteBullets li::before { background: var(--sdx-green); }

.historyNotesFormatted {
  padding: 12px;
  background: var(--sdx-gray-50);
  border-radius: var(--radius-sm);
  border: 1px solid var(--sdx-gray-100);
}

/* Report Footer */
.rptFooter {
  padding: 14px 24px;
  background: var(--sdx-gray-50);
  border-top: 1px solid var(--sdx-gray-200);
  font-size: 0.68rem;
  color: var(--sdx-gray-400);
  text-align: center;
  line-height: 1.6;
}

/* ── PIN Lock Screen ─────────────────────────────────────── */
.pinOverlay {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg, var(--sdx-navy) 0%, #3a3980 40%, #6B3FA0 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}
.pinCard {
  background: var(--sdx-white);
  border-radius: var(--radius-lg);
  box-shadow: 0 20px 60px rgba(0,0,0,.3);
  padding: 48px 40px;
  width: 380px;
  max-width: 90vw;
  text-align: center;
}
.pinLogo {
  height: 48px;
  margin-bottom: 24px;
}
.pinTitle {
  font-size: 1.3rem;
  font-weight: 800;
  color: var(--sdx-navy);
  margin-bottom: 6px;
}
.pinSub {
  font-size: 0.84rem;
  color: var(--sdx-gray-500);
  margin-bottom: 28px;
  line-height: 1.4;
}
.pinForm {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.pinInput {
  width: 100%;
  padding: 14px 18px;
  border: 2px solid var(--sdx-gray-200);
  border-radius: var(--radius-md);
  font-size: 1.5rem;
  font-family: inherit;
  text-align: center;
  letter-spacing: 12px;
  color: var(--sdx-navy);
  outline: none;
  transition: border-color var(--transition), box-shadow var(--transition);
}
.pinInput:focus {
  border-color: var(--sdx-blue);
  box-shadow: 0 0 0 4px rgba(40,56,151,.12);
}
.pinInput::placeholder {
  letter-spacing: normal;
  font-size: 0.9rem;
  color: var(--sdx-gray-300);
}
.badgeInput {
  letter-spacing: 4px;
  font-size: 1.25rem;
}
.pinError {
  color: var(--sdx-red);
  font-size: 0.82rem;
  font-weight: 600;
}
.pinBtn {
  padding: 14px;
  font-size: 0.95rem;
  border-radius: var(--radius-md);
}
.pinFooter {
  margin-top: 24px;
  font-size: 0.72rem;
  color: var(--sdx-gray-400);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}
.pinLock {
  font-size: 0.9rem;
}

/* ── Lock Button ─────────────────────────────────────────── */
.btnLock {
  background: transparent;
  border: 1px solid rgba(255,255,255,.2);
  color: rgba(255,255,255,.7);
  padding: 6px 10px;
  font-size: 1rem;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--transition);
}
.btnLock:hover {
  background: rgba(255,255,255,.15);
  color: white;
}

/* ── Registration / Badge Screen extras ──────────────────── */
.regInput {
  width: 100%;
  padding: 12px 14px;
  border-radius: var(--radius-md);
  font-size: 0.95rem;
}
.btnLink {
  background: none;
  border: none;
  color: var(--sdx-blue);
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  padding: 8px;
  margin-top: 4px;
  text-decoration: underline;
  text-underline-offset: 2px;
}
.btnLink:hover {
  color: var(--sdx-navy);
}
.pendingIcon {
  font-size: 3rem;
  margin: 18px 0 10px;
  text-align: center;
}

/* ── Admin Button (top bar) ─────────────────────────────── */
.btnAdmin {
  background: linear-gradient(135deg, var(--sdx-navy), var(--sdx-blue));
  color: white;
  border: none;
  padding: 6px 14px;
  font-size: 0.8rem;
  font-weight: 700;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--transition);
  letter-spacing: 0.5px;
}
.btnAdmin:hover {
  filter: brightness(1.15);
  transform: translateY(-1px);
}
.userBadgeLabel {
  color: rgba(255,255,255,.7);
  font-size: 0.78rem;
  font-weight: 500;
  padding-right: 4px;
  white-space: nowrap;
}

/* ── Admin Panel ────────────────────────────────────────── */
.adminCard {
  border: 1px solid var(--sdx-gray-200);
}
.adminCount {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: var(--sdx-blue);
  color: white;
  font-size: 0.72rem;
  font-weight: 700;
  min-width: 22px;
  height: 22px;
  border-radius: 11px;
  margin-left: 8px;
  padding: 0 6px;
}
.adminUserRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 0;
  border-bottom: 1px solid var(--sdx-gray-100);
  gap: 16px;
}
.adminUserRow:last-child {
  border-bottom: none;
}
.adminUserInfo {
  flex: 1;
  min-width: 0;
}
.adminUserName {
  font-weight: 600;
  font-size: 0.95rem;
  color: var(--sdx-navy);
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}
.adminUserMeta {
  font-size: 0.8rem;
  color: var(--sdx-gray-400);
  margin-top: 2px;
}
.adminUserActions {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}
.adminDenyBtn {
  color: #EE0000 !important;
  border-color: rgba(238,0,0,.3) !important;
}

/* ── Add User Form ─────────────────────────────────────── */
.addUserForm { display: flex; flex-direction: column; }
.addUserSuccess {
  margin-top: 8px;
  padding: 10px 14px;
  background: #ECFDF5;
  color: #15803D;
  border-radius: var(--radius-sm);
  font-size: 0.82rem;
  font-weight: 600;
}

/* ── Role Badges ────────────────────────────────────────── */
.roleBadge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 0.68rem;
  font-weight: 700;
  letter-spacing: 0.3px;
  text-transform: uppercase;
}
.adminRoleBadge {
  background: linear-gradient(135deg, var(--sdx-navy), var(--sdx-blue));
  color: white;
}
.inspectorRoleBadge {
  background: var(--sdx-gray-100);
  color: var(--sdx-gray-500);
}
.youRoleBadge {
  background: rgba(21,128,61,.1);
  color: #15803D;
  border: 1px solid rgba(21,128,61,.2);
}

/* ── Floating Action Buttons (bottom corners) ────────────── */
.fab {
  position: fixed;
  bottom: 20px;
  z-index: 100;
  padding: 12px 20px;
  border-radius: 50px;
  border: none;
  font-size: 0.82rem;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2), 0 1px 4px rgba(0, 0, 0, 0.12);
  transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
  white-space: nowrap;
}
.fab:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.25), 0 2px 8px rgba(0, 0, 0, 0.15);
}
.fab:active {
  transform: translateY(0);
}
.fabLeft {
  left: 20px;
  background: linear-gradient(135deg, var(--sdx-blue) 0%, var(--sdx-navy) 100%);
  color: #fff;
}
.fabLeft:hover { background: linear-gradient(135deg, #3049b5 0%, #1f1e4e 100%); }
.fabRight {
  right: 20px;
  background: linear-gradient(135deg, var(--sdx-blue) 0%, var(--sdx-navy) 100%);
  color: #fff;
}
.fabRight:hover { background: linear-gradient(135deg, #3049b5 0%, #1f1e4e 100%); }

/* ── Page Main (for History + Admin) ─────────────────────── */
.pageMain {
  padding: 24px 28px;
  margin: 0 auto;
  width: 100%;
}
.pageMainWide { max-width: 1200px; }
.pageMainNarrow { max-width: 900px; }
.filterGrid { grid-template-columns: 1fr 1fr 1fr; }

/* ── Scrollbar ───────────────────────────────────────────── */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--sdx-gray-300); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--sdx-gray-400); }

/* ── Touch & Mobile Foundations ─────────────────────────── */

/* Prevent tap highlight flash on all touch devices */
@media (pointer: coarse) {
  * { -webkit-tap-highlight-color: transparent; }

  /* Minimum 44px touch targets (Apple HIG / WCAG) */
  .btn, .select, .seg, .btnLink, .btnLock, .btnAdmin {
    min-height: 44px;
  }
  .btnSmall { min-height: 38px; }

  /* Smoother scrolling everywhere */
  .outputPre, .rptTable, .cardBody, .historyList {
    -webkit-overflow-scrolling: touch;
  }
}

/* Safe-area insets for modern iPhones + iPads with rounded displays */
@supports (padding: env(safe-area-inset-top)) {
  .topBar {
    padding-left: max(28px, env(safe-area-inset-left));
    padding-right: max(28px, env(safe-area-inset-right));
  }
  .footer {
    padding-bottom: max(14px, env(safe-area-inset-bottom));
    padding-left: max(28px, env(safe-area-inset-left));
    padding-right: max(28px, env(safe-area-inset-right));
  }
  .grid {
    padding-left: max(28px, env(safe-area-inset-left));
    padding-right: max(28px, env(safe-area-inset-right));
  }
  .pinOverlay {
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }
}

/* ── iPad Landscape (1024–1100px) ──────────────────────── */
@media (max-width: 1100px) and (min-width: 769px) {
  .grid { gap: 18px; padding: 20px 22px; }
  .topActions { gap: 8px; }
  .topActions .btn { padding: 7px 12px; font-size: 0.82rem; }
  .btnGenHeader { padding: 8px 16px; font-size: 0.82rem; }
  .cardBody { padding: 18px; }
  .fieldGrid { gap: 12px; }

  /* Report table on narrower 2-col layout */
  .rptTable th, .rptTable td { padding: 7px 10px; font-size: 0.78rem; }
  .rptSectionCell { font-size: 0.72rem; }
}

/* ── iPad Portrait / Small Tablet (601–768px) ─────────── */
@media (max-width: 768px) {
  .topBar {
    padding: 10px 14px;
    height: auto;
    min-height: 52px;
    flex-wrap: nowrap;
    gap: 8px;
  }
  .topBarSpacer { height: 52px; }
  .brandLeft { gap: 8px; }
  .brandLogo { height: 28px; }
  .brandTitle { font-size: 0.92rem; font-weight: 700; }
  .brandSub { display: none; }
  .topActions { gap: 6px; }
  .topActions .btn { padding: 7px 12px; font-size: 0.82rem; }
  .btnGenHeader { padding: 8px 14px; font-size: 0.8rem; }
  .dropdownMenu { left: 0; border-radius: 0 0 8px 8px; }

  .grid {
    grid-template-columns: 1fr;
    padding: 16px;
    gap: 16px;
  }
  .cardHeader { padding: 16px 18px; }
  .cardBody { padding: 18px; }
  .fieldGrid { gap: 12px; }

  .downloadBar {
    flex-direction: column;
    gap: 8px;
    align-items: stretch;
  }
  .downloadBar .btn { width: 100%; justify-content: center; min-height: 44px; }

  /* Report output */
  .rptHeader { padding: 14px 18px; }
  .rptTitleBar { padding: 16px 18px; flex-direction: column; align-items: flex-start; gap: 10px; }
  .rptTitle { font-size: 1.15rem; }
  .rptInfoGrid { grid-template-columns: 1fr 1fr; }
  .rptInfoItem { padding: 10px 18px; }
  .rptBlock { padding: 16px 18px; }
  .rptTable { font-size: 0.78rem; }
  .rptTable th, .rptTable td { padding: 8px 10px; }

  /* History page */
  .historyMeta { grid-template-columns: 1fr 1fr; }

  /* Admin panel */
  .adminUserRow { flex-direction: column; align-items: flex-start; gap: 10px; }
  .adminUserActions { width: 100%; }
  .adminUserActions .btn { flex: 1; justify-content: center; }

  /* Page mains */
  .pageMain { padding: 16px; }
  .filterGrid { grid-template-columns: 1fr 1fr; }

  /* Badge / sign-in screen */
  .pinCard { width: 400px; max-width: 90vw; padding: 36px 32px; }
  .pinInput { min-height: 52px; }
  .pinBtn { min-height: 48px; }
}

/* ── Large Phone / iPad Split View (481–600px) ────────── */
@media (max-width: 600px) {
  .fieldGrid { grid-template-columns: 1fr; }
  .filterGrid { grid-template-columns: 1fr; }

  /* History filter grid */
  .historyMeta { grid-template-columns: 1fr; }

  .pageMain { padding: 12px; }
}

/* ── Phone (≤480px) ───────────────────────────────────── */
@media (max-width: 480px) {
  .fab { bottom: 14px; padding: 10px 14px; font-size: 0.74rem; }
  .fabLeft { left: 12px; }
  .fabRight { right: 12px; }

  .topBar {
    padding: 10px 14px;
    gap: 8px;
  }
  .brandLogo { height: 24px; }
  .brandTitle { font-size: 0.92rem; }
  .btnAdmin { padding: 9px 14px; font-size: 0.78rem; }
  .btnLock { padding: 8px 12px; font-size: 1rem; }

  .grid {
    padding: 12px;
    gap: 14px;
  }
  .cardHeader {
    padding: 14px 16px;
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
  .cardBody { padding: 14px; }
  .cardTitle { font-size: 0.92rem; }

  .fieldGrid { grid-template-columns: 1fr; gap: 10px; margin-bottom: 12px; }

  /* 16px prevents iOS zoom on focus */
  .input, .select, .textarea, .pinInput, .regInput { font-size: 16px; }
  .textarea { min-height: 120px; }

  .outputActions { flex-direction: column; gap: 6px; width: 100%; }
  .outputActions .btn { width: 100%; }

  /* Guide section */
  .guide { padding: 14px; }
  .guideItemHead { flex-direction: column; align-items: flex-start; gap: 8px; }
  .guideItemHead .select { width: 100%; }
  .guideItem { padding: 14px 12px; }
  .tempsGrid { grid-template-columns: 1fr; }
  .pillRow { flex-wrap: wrap; }

  /* Report */
  .rptHeader { flex-direction: column; gap: 8px; align-items: flex-start; }
  .rptHeaderRight { text-align: left; }
  .rptTitleBar { padding: 14px; }
  .rptTitle { font-size: 1.05rem; }
  .rptStatus { padding: 8px 16px; font-size: 0.72rem; text-align: center; width: 100%; }
  .rptInfoGrid { grid-template-columns: 1fr; }
  .rptInfoItem { padding: 10px 14px; border-right: none; }
  .rptBlock { padding: 14px; }
  .rptBlockTitle { font-size: 0.74rem; }
  .rptTable { display: block; overflow-x: auto; -webkit-overflow-scrolling: touch; }
  .rptTable th, .rptTable td { padding: 6px 8px; font-size: 0.72rem; white-space: nowrap; }
  .rptSectionCell { font-size: 0.7rem; }
  .rptIssueRow { flex-wrap: wrap; }
  .rptIssueContent { min-width: 0; }
  .rptActionRow { flex-wrap: wrap; }
  .rptActionContent { flex-direction: column; align-items: flex-start; gap: 4px; }
  .rptFooter { font-size: 0.64rem; padding: 12px 14px; }

  /* History */
  .historyTable { font-size: 0.78rem; display: block; overflow-x: auto; }
  .historyTable th, .historyTable td { padding: 8px 10px; }

  /* Admin */
  .adminUserRow { padding: 14px 0; }
  .adminUserActions { gap: 6px; flex-wrap: wrap; }
  .adminUserActions .btn { padding: 8px 12px; font-size: 0.75rem; flex: 1; min-width: 0; justify-content: center; }
  .roleBadge { font-size: 0.62rem; padding: 2px 6px; }

  /* Badge screen */
  .pinOverlay { padding: 16px; align-items: flex-start; padding-top: 10vh; }
  .pinCard { width: 100%; max-width: 100%; padding: 28px 20px; border-radius: var(--radius-md); }
  .pinLogo { height: 38px; }
  .pinTitle { font-size: 1.15rem; }
  .pinSub { font-size: 0.8rem; }
  .pinInput { font-size: 16px; padding: 14px; min-height: 52px; }
  .badgeInput { letter-spacing: 3px; }
  .regInput { font-size: 16px; min-height: 48px; }
  .pinBtn { min-height: 48px; font-size: 0.92rem; }
  .btnLink { min-height: 44px; display: flex; align-items: center; justify-content: center; }

  /* Footer */
  .footer { padding: 12px 16px; font-size: 0.7rem; flex-direction: column; gap: 6px; }
  .footerLogo { height: 20px; }

  /* Download bar */
  .downloadBar { padding: 12px 14px; }
  .downloadLabel { font-size: 0.78rem; }
  .btnDownload { font-size: 0.8rem; padding: 10px 14px; min-height: 44px; }
}

/* ── Very Small Phone (≤360px) ────────────────────────── */
@media (max-width: 360px) {
  .grid { padding: 8px; gap: 10px; }
  .cardHeader { padding: 10px 12px; }
  .cardBody { padding: 12px; }
  .brandLogo { height: 22px; }
  .brandTitle { font-size: 0.82rem; }
  .guide { padding: 10px; margin: 12px 0; }
  .rptInfoItem { padding: 8px 12px; }
  .rptBlock { padding: 10px 12px; }
  .pinCard { padding: 24px 16px; }
}

/* ── iPad Landscape-only tweaks ───────────────────────── */
@media (min-width: 769px) and (max-width: 1100px) and (orientation: landscape) {
  /* Keep 2-col grid but give more room */
  .grid { grid-template-columns: 1fr 1fr; gap: 16px; padding: 16px 20px; }
  .rptInfoGrid { grid-template-columns: repeat(3, 1fr); }
}

/* ── iPad Portrait-only tweaks ────────────────────────── */
@media (min-width: 769px) and (max-width: 1100px) and (orientation: portrait) {
  /* Single-column on iPad portrait for better readability */
  .grid { grid-template-columns: 1fr; max-width: 700px; margin-left: auto; margin-right: auto; }
}

/* ── Landscape phone (short height) ──────────────────── */
@media (max-height: 500px) and (orientation: landscape) {
  .topBar { min-height: 44px; padding-top: 4px; padding-bottom: 4px; }
  .pinOverlay { align-items: flex-start; padding-top: 8px; }
  .pinCard { padding: 16px 20px; }
  .pinLogo { height: 28px; margin-bottom: 12px; }
  .pinTitle { font-size: 1rem; margin-bottom: 4px; }
  .pinSub { font-size: 0.75rem; margin-bottom: 12px; }
  .pinForm { gap: 8px; }
  .pinFooter { margin-top: 10px; }
}

/* ── Clickable warning items ────────────────────────────── */
.warningLink {
  cursor: pointer;
  text-decoration: underline;
  text-decoration-style: dashed;
  text-underline-offset: 2px;
  transition: color 0.15s;
}
.warningLink:hover {
  color: #b45309;
}
.fieldHighlight {
  animation: fieldPulse 2s ease-out;
}
@keyframes fieldPulse {
  0%   { box-shadow: 0 0 0 3px rgba(234, 179, 8, 0.6); border-radius: 8px; }
  100% { box-shadow: 0 0 0 0 transparent; }
}

/* ── New Inspection button ─────────────────────────────── */
.btnNew {
  background: #15803D;
  color: white;
  border: none;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 6px 14px;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.15s;
}
.btnNew:hover { background: #166534; }

/* ── Photo button ──────────────────────────────────────── */
.photoBtn {
  border-color: var(--sdx-navy);
  color: var(--sdx-navy);
  font-weight: 600;
}
.photoBtn:hover {
  background: var(--sdx-navy);
  color: white;
}

/* ── Floor Badge ────────────────────────────────────────── */
.typeBadgeFloor {
  background: #FFF7ED;
  color: #C2410C;
  border: 1px solid #FED7AA;
}

/* ── Temperature Trend Charts ──────────────────────────── */
.tempChartsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));
  gap: 24px;
}
.tempChartItem {
  background: #fafbfc;
  border-radius: 12px;
  padding: 16px 14px 12px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 1px 4px rgba(0,0,0,0.04);
}
.tempChartHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 4px;
  padding: 0 4px;
}
.tempChartLabel {
  font-weight: 700;
  font-size: 0.9rem;
  color: var(--sdx-navy);
}
.tempChartUnit {
  font-size: 0.72rem;
  font-weight: 700;
  color: #6b7280;
  background: #f3f4f6;
  padding: 2px 8px;
  border-radius: 4px;
}
.tempChartAvgs {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  margin-bottom: 8px;
  padding: 0 4px;
}
.tempAvgPill {
  font-size: 0.68rem;
  font-weight: 700;
  padding: 3px 8px;
  border-radius: 100px;
  white-space: nowrap;
}
.tempChartSvg {
  width: 100%;
  height: auto;
  max-height: 220px;
  cursor: crosshair;
}
.tempChartLegend {
  display: flex;
  align-items: center;
  gap: 14px;
  font-size: 0.72rem;
  color: #6b7280;
  margin-top: 8px;
  padding-left: 4px;
  flex-wrap: wrap;
}
.tempLegendItem {
  display: flex;
  align-items: center;
  gap: 5px;
}
.tempLegendDot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
}

/* ── Recurring Issues Analysis ─────────────────────────── */
.analysisStatsRow {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  margin-bottom: 8px;
}
.analysisStat {
  flex: 1;
  min-width: 100px;
  text-align: center;
  background: #fafbfc;
  border-radius: 10px;
  padding: 14px 12px;
  border: 1px solid #e5e7eb;
}
.analysisStatNum {
  font-size: 1.6rem;
  font-weight: 800;
  line-height: 1.2;
  color: var(--sdx-navy);
}
.analysisStatLabel {
  font-size: 0.72rem;
  color: #6b7280;
  margin-top: 2px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.4px;
}

.recurringList {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 10px;
}
.recurringItem {
  position: relative;
  background: #fef2f2;
  border-radius: 10px;
  padding: 10px 14px;
  border: 1px solid #fecaca;
  overflow: hidden;
}
.recurringItemExpanded {
  padding: 12px 16px;
}
.recurringBar {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  background: rgba(239, 68, 68, 0.08);
  border-right: 2px solid rgba(239, 68, 68, 0.2);
  pointer-events: none;
}
.recurringTop {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.recurringLabel {
  position: relative;
  font-weight: 700;
  font-size: 0.88rem;
  color: #991b1b;
}
.recurringBadge {
  position: relative;
  font-size: 0.7rem;
  font-weight: 700;
  background: #dc2626;
  color: white;
  padding: 2px 8px;
  border-radius: 100px;
  white-space: nowrap;
}
.recurringCount {
  position: relative;
  display: block;
  font-size: 0.72rem;
  color: #b91c1c;
  margin-top: 2px;
}
.recurringKitchens {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
  margin-top: 8px;
}
.recurringKitchenClickable {
  cursor: pointer;
  transition: background 0.15s, transform 0.1s;
}
.recurringKitchenClickable:hover {
  background: rgba(239, 68, 68, 0.2);
  transform: scale(1.03);
}
.recurringKitchenTag {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 0.72rem;
  font-weight: 600;
  color: #7f1d1d;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  padding: 3px 9px;
  border-radius: 6px;
}
.recurringKitchenCount {
  font-weight: 800;
  color: #dc2626;
}

/* Worst locations ranking */
.worstLocationsList {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 8px;
}
.worstLocation {
  display: flex;
  align-items: center;
  gap: 10px;
  background: #fafbfc;
  border-radius: 8px;
  padding: 10px 14px;
  border: 1px solid #e5e7eb;
}
.worstRank {
  font-size: 0.7rem;
  font-weight: 800;
  color: white;
  padding: 3px 8px;
  border-radius: 6px;
  white-space: nowrap;
}
.worstName {
  flex: 1;
  font-weight: 600;
  font-size: 0.85rem;
  color: #1e293b;
}
.worstCount {
  font-size: 0.75rem;
  font-weight: 700;
  color: #dc2626;
}
.worstLocationClickable {
  cursor: pointer;
  transition: background 0.15s, box-shadow 0.15s;
}
.worstLocationClickable:hover {
  background: #f0f4ff;
  box-shadow: 0 2px 8px rgba(42,41,92,0.1);
}
.worstArrow {
  font-size: 1rem;
  color: var(--sdx-navy);
  opacity: 0.5;
  transition: opacity 0.15s;
}
.worstLocationClickable:hover .worstArrow { opacity: 1; }

/* ── History Tabs ──────────────────────────────────────── */
.historyTabs {
  display: flex;
  gap: 4px;
  margin-bottom: 20px;
  background: #f3f4f6;
  padding: 4px;
  border-radius: 10px;
}
.historyTab {
  flex: 1;
  padding: 10px 16px;
  border: none;
  background: transparent;
  color: #6b7280;
  font-size: 0.85rem;
  font-weight: 700;
  cursor: pointer;
  border-radius: 8px;
  transition: all 0.15s;
}
.historyTab:hover { color: var(--sdx-navy); }
.historyTabActive {
  background: white;
  color: var(--sdx-navy);
  box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}

.flaggedLocation {
  background: #fffbeb;
  border-radius: 10px;
  padding: 12px 16px;
  margin-bottom: 10px;
  border: 1px solid #fde68a;
}
.flaggedLocationName {
  font-weight: 700;
  font-size: 0.88rem;
  color: #92400e;
  margin-bottom: 6px;
}
.flaggedIssuesList {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.flaggedIssue {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.8rem;
  padding: 4px 0;
  border-bottom: 1px solid rgba(251, 191, 36, 0.2);
}
.flaggedIssue:last-child { border-bottom: none; }
.flaggedIssueCat { font-weight: 600; color: #78350f; }
.flaggedIssueRate { font-weight: 700; font-size: 0.75rem; }

/* ── Sticky Action Bar ──────────────────────────────────── */
.stickyActionBar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  gap: 8px;
  padding: 10px 16px;
  padding-bottom: max(10px, env(safe-area-inset-bottom));
  background: linear-gradient(135deg, #2A295C 0%, #1a1940 100%);
  box-shadow: 0 -4px 20px rgba(0,0,0,0.25);
  z-index: 1000;
  justify-content: center;
}
.stickyBtn {
  font-weight: 700;
  font-size: 0.82rem;
  padding: 10px 18px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  white-space: nowrap;
  transition: transform 0.1s, opacity 0.15s;
}
.stickyBtn:active { transform: scale(0.97); }
.stickyBtnView {
  background: white;
  color: var(--sdx-navy);
}
.stickyBtnSave {
  background: #15803D;
  color: white;
}
.stickyBtnSaved {
  background: #22c55e;
  color: white;
}
.stickyBtnNew {
  background: rgba(255,255,255,0.15);
  color: white;
  border: 1px solid rgba(255,255,255,0.3);
}
.stickyBtnNew:hover { background: rgba(255,255,255,0.25); }

/* Push footer up so sticky bar doesn't cover it */
.footer { padding-bottom: 60px; }

/* ── Responsive: charts on smaller screens ──────────── */
@media (max-width: 600px) {
  .tempChartsGrid { grid-template-columns: 1fr; }
  .analysisStatsRow { gap: 10px; }
  .analysisStat { padding: 10px 8px; min-width: 80px; }
  .analysisStatNum { font-size: 1.3rem; }
  .flaggedIssue { flex-direction: column; align-items: flex-start; gap: 2px; }
  .stickyBtn { padding: 10px 12px; font-size: 0.78rem; }
  .worstLocation { padding: 8px 10px; }
  .recurringKitchens { gap: 4px; }
  .recurringKitchenTag { font-size: 0.68rem; padding: 2px 7px; }
}
